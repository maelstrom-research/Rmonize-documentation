<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get Started • Rmonize</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Get Started">
<meta property="og:description" content="Rmonize">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Rmonize</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0.0000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a-Glossary-and-templates.html">Glossary and templates</a>
    </li>
    <li>
      <a href="../articles/b-Understand-the-workflow.html">Understand the workflow</a>
    </li>
    <li>
      <a href="../articles/c-The-Data-processing-elements.html">The Data Processing Elements</a>
    </li>
    <li>
      <a href="../articles/d-Example-with-DEMO-files.html">Example with DEMO files</a>
    </li>
    <li>
      <a href="../articles/e-Get-Started.html">Get Started</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/maelstrom-research/Rmonize/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Get Started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/maelstrom-research/Rmonize/blob/HEAD/vignettes/e-Get-Started.Rmd" class="external-link"><code>vignettes/e-Get-Started.Rmd</code></a></small>
      <div class="hidden name"><code>e-Get-Started.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="how-to-fill-the-data-processing-elements">How to fill the Data Processing Elements ?<a class="anchor" aria-label="anchor" href="#how-to-fill-the-data-processing-elements"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Open the Data Processing Elements template, or an empty one.</li>
</ol>
<p><strong>For each variable to harmonize:</strong></p>
<ol start="2" style="list-style-type: decimal">
<li>Enter DataSchema information:
<ul>
<li>Name of the variable to harmonize</li>
</ul>
</li>
<li>Enter the input dataset information :
<ul>
<li>Name of the dataset</li>
<li>Name of the variable(s)</li>
</ul>
</li>
<li>Enter the data processing information in the Data Processing
Elements :
<ul>
<li>Rule category</li>
<li>Algorithm</li>
<li>Harmonization status (not mandatory)</li>
</ul>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="initialization-of-the-harmonization-with-the-dataschema-variable-adm_unique_id-mandatory">Initialization of the harmonization with the DataSchema variable
adm_unique_id (mandatory)<a class="anchor" aria-label="anchor" href="#initialization-of-the-harmonization-with-the-dataschema-variable-adm_unique_id-mandatory"></a>
</h2>
<p><strong>1 Open the DataSchema to understand the variable to
generate.</strong></p>
<div class="flex-container">
<div class="image-container-big">
<p><img src="../reference/figures/adm_unique_id_variable.png" style="max-width: 100%; height: auto;"></p>
</div>
<div class="text-container-small">
<p><br><strong>The definition of the variable is in the
DataSchema</strong>. <em>The name and the valueType of the variable will
be reported in the Data Processing Elements.</em></p>
</div>
</div>
<p><br></p>
<p><strong>2 Collect in each dataset the column corresponding to the
participant identifier.</strong></p>
<div class="flex-container">
<div class="image-container-even">
<p>
<strong>id</strong> in dataset_MELBOURNE_1
</p>
<p><img src="../reference/figures/melbourne_1_id.png" style="max-width: 100%; height: auto;"></p>
</div>
<div class="image-container-even">
<p>
<strong>id</strong> in dataset_MELBOURNE_2
</p>
<p><img src="../reference/figures/melbourne_2_id.png" style="max-width: 100%; height: auto;"></p>
</div>
</div>
<div class="flex-container">
<div class="image-container-even">
<p>
<strong>ID</strong> in dataset_PARIS
</p>
<p><img src="../reference/figures/paris_id.png" style="max-width: 100%; height: auto;"></p>
</div>
<div class="image-container-even">
<p>
<strong>part_id</strong> in dataset_TOKYO
</p>
<p><img src="../reference/figures/tokyo_part_id.png" style="max-width: 100%; height: auto;"></p>
</div>
</div>
<p><br></p>
<p><strong>3 Open the Data Processing Elements and fill for each dataset
the information accordingly</strong></p>
<div>
<p><img style="max-width: 100%; height: auto;" src="../reference/figures/id_creation.png"></p>
<p>
<em>The names in ‘input_dataset’ must be the same in the dossier and in
the Data Processing Elements</em>
</p>
</div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="harmonization-of-the-dataschema-variable-sdc_gender">Harmonization of the DataSchema variable sdc_gender<a class="anchor" aria-label="anchor" href="#harmonization-of-the-dataschema-variable-sdc_gender"></a>
</h2>
<p><strong>1 Open the DataSchema to understand the variable to
generate.</strong></p>
<div class="flex-container">
<div class="image-container-big">
<p><img src="../reference/figures/sdc_gender_var.png" style="max-width: 100%; height: auto;"></p>
<p><br></p>
<p><img src="../reference/figures/sdc_gender_cat.png" style="max-width: 100%; height: auto;"></p>
</div>
<div class="text-container-small">
<p><br><br><br><strong>The definition of the variable is in the
DataSchema.</strong> The name and the valueType of the variable will be
reported in the Data Processing Elements. When categorical, Each input
variable (when possible) will be recoded to match the DataSchema
variables categories, using rules of harmonization.</p>
<p><em>For each dataset, use the data dictionary to comprehend
codification and start elaborating the script of harmonization.</em></p>
</div>
</div>
<p><br></p>
<p><strong>2 Identidy for each dataset which column (variable) will be
associated to the harmonization script to generate the harmonzed
variable.</strong></p>
<div class="section level4">
<h4 id="dataset_melbourne_1">dataset_MELBOURNE_1<a class="anchor" aria-label="anchor" href="#dataset_melbourne_1"></a>
</h4>
<div class="flex-container">
<div class="image-container-big">
<p><img src="../reference/figures/melbourne_1_gender.png" style="max-width: 100%; height: auto;"></p>
</div>
<div class="text-container-small">
<p><br><br> For dataset_MELBOURNE_1, the corresponding variable ‘Gender’
share the same codification with the DataSchema variable. The script is
a <strong>direct_mapping</strong>.</p>
</div>
</div>
<div>
<p>
<strong><em>Start filling the Data Processing Elements for each of the
dataset, one DataSchema variable after the other.</em></strong>
</p>
<p><img style="max-width: 100%; height: auto;" src="../reference/figures/melbourne_1_dpe.png"></p>
</div>
<p><br></p>
</div>
<div class="section level4">
<h4 id="dataset_melbourne_2">dataset_MELBOURNE_2<a class="anchor" aria-label="anchor" href="#dataset_melbourne_2"></a>
</h4>
<div class="flex-container">
<div class="image-container-big">
<p><img src="../reference/figures/melbourne_2_gender_not_collected.png" style="max-width: 100%; height: auto;"></p>
</div>
<div class="text-container-small">
<p><br><br> For dataset_MELBOURNE_2, There is no corresponding variable
collected. The harmonization is <strong>impossible</strong>.</p>
</div>
</div>
<div>
<p><img style="max-width: 100%; height: auto;" src="../reference/figures/melbourne_2_dpe.png"></p>
</div>
<p><br></p>
</div>
<div class="section level4">
<h4 id="dataset_paris">dataset_PARIS<a class="anchor" aria-label="anchor" href="#dataset_paris"></a>
</h4>
<div class="flex-container">
<div class="image-container-big">
<p><img src="../reference/figures/paris_sex.png" style="max-width: 100%; height: auto;"></p>
</div>
<div class="text-container-small">
<p><br><br> For dataset_PARIS, the corresponding variable ‘SEX’ has a
codification which is compatible with the DataSchema variable
codification. The script is a <strong>recode</strong>, where each ‘0’
will be recoded into ‘1’ and each ‘1’ into ‘2’.</p>
</div>
</div>
<div>
<p><img style="max-width: 100%; height: auto;" src="../reference/figures/paris_dpe.png"></p>
</div>
<p><br></p>
</div>
<div class="section level4">
<h4 id="dataset_tokyo">dataset_TOKYO<a class="anchor" aria-label="anchor" href="#dataset_tokyo"></a>
</h4>
<div class="flex-container">
<div class="image-container-big">
<p><img src="../reference/figures/tokyo_gndr.png" style="max-width: 100%; height: auto;"></p>
</div>
<div class="text-container-small">
<p><br><br> For dataset_TOKYO, the corresponding variable ‘gndr’, the
script is also a <strong>recode</strong>, where each ‘Male’ will be
recoded into ‘1’ and each ‘Female’ into ‘2’.</p>
</div>
</div>
<div>
<p><img style="max-width: 100%; height: auto;" src="../reference/figures/tokyo_dpe.png"></p>
</div>
<p><br><br><br></p>
<p><strong>3 Fill the Data Processing Elements.</strong></p>
<p>Process similarily for each DataSchema variable. When further
investigation or future information to be completed, put
<b>undetermined</b> as a placeholder.</p>
<div>
<p><img style="max-width: 100%; height: auto;" src="../reference/figures/dpe_all.png"></p>
</div>
<p><br></p>
<p>Save your work, close file and upload it in your R environment if
necessary.</p>
<p><strong>Warning ⚠</strong> In your environnement, additional objects
must exist: * The dossier containing your input dataset(s) * The
DataSchema. If not, a minimum DataSchema will be created from elements
found in the Data Processing Elements.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">dataset_MELBOURNE_1</span> <span class="op">&lt;-</span> <span class="va">DEMO_files_harmo</span><span class="op">$</span><span class="va">dataset_MELBOURNE_1</span></span>
<span><span class="va">dataset_MELBOURNE_2</span> <span class="op">&lt;-</span> <span class="va">DEMO_files_harmo</span><span class="op">$</span><span class="va">dataset_MELBOURNE_2</span></span>
<span><span class="va">dataset_PARIS</span> <span class="op">&lt;-</span> <span class="va">DEMO_files_harmo</span><span class="op">$</span><span class="va">dataset_PARIS</span></span>
<span><span class="va">dataset_TOKYO</span> <span class="op">&lt;-</span> <span class="va">DEMO_files_harmo</span><span class="op">$</span><span class="va">dataset_TOKYO</span></span>
<span></span>
<span><span class="co"># create the dossier</span></span>
<span><span class="va">dossier</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/madshapR/man/dossier_create.html" class="external-link">dossier_create</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="va">dataset_MELBOURNE_1</span>, <span class="va">dataset_MELBOURNE_2</span>, <span class="va">dataset_PARIS</span>, <span class="va">dataset_TOKYO</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dataschema</span> <span class="op">&lt;-</span> <span class="va">DEMO_files_harmo</span><span class="op">$</span><span class="va">`dataschema - final`</span></span>
<span><span class="va">data_proc_elem</span> <span class="op">&lt;-</span> <span class="va">DEMO_files_harmo</span><span class="op">$</span><span class="va">`data_processing_elements - final`</span></span>
<span></span>
<span><span class="co"># perform harmonization</span></span>
<span><span class="fu"><a href="../reference/harmo_process.html">harmo_process</a></span><span class="op">(</span><span class="va">dossier</span>,<span class="va">dataschema</span>,<span class="va">data_proc_elem</span><span class="op">)</span></span>
<span>    </span></code></pre></div>
<p><a href="d-Example-with-DEMO-files.html">See the whole process of
harmonization through a DEMO</a></p>
</div>
<div class="section level3">
<h3 id="understanding-the-output-how-to-detect-and-correct-errors-">Understanding the output : how to detect and correct errors.<a class="anchor" aria-label="anchor" href="#understanding-the-output-how-to-detect-and-correct-errors-"></a>
</h3>
<p>If the process of harmonization produces errors in R, the process
will not generate the harmonized datasets affected, to avoid version
conflicts. The error will be stored in a the column
‘Mlstr_harmo::status’ in its harmonized data dictionary. The error can
be read directly in the console using the function <a href="../reference/show_harmo_error.html">show_harmo_error()</a></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">data_proc_elem</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">DEMO_files_harmo</span><span class="op">$</span><span class="va">`data_processing_elements - with error`</span></span>
<span></span>
<span><span class="co"># perform harmonization</span></span>
<span><span class="va">harmonized_dossier</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/harmo_process.html">harmo_process</a></span><span class="op">(</span><span class="va">dossier</span>, <span class="va">dataschema</span>, <span class="va">data_proc_elem</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># use the function to help correcting elements of the harmonization;</span></span>
<span><span class="fu"><a href="../reference/show_harmo_error.html">show_harmo_error</a></span><span class="op">(</span><span class="va">harmonized_dossier</span><span class="op">)</span></span>
<span>    </span></code></pre></div>
<div class="flex-container">
<div class="image-container-big">
<p><img src="../reference/figures/melbourne_2_error.png" style="max-width: 100%; height: auto;"></p>
</div>
<div class="text-container-small">
<p><br><strong><em>Example</em></strong> <em>: in the Data Processing
Elements, a semi-colon is missing in the script. The error generated can
be visually assessed in the console so the user can make
corrections.</em></p>
</div>
</div>
<p><strong>Warning ⚠</strong> Sometimes, the harmonization produces
warnings which are to consider and analyse very closely, because they
may refer to errors. A common warning generated is when a decimal is
converted into an integer. R does not analyses it as an error, but the
information is wrongly harmonized in that case. You should always use <a href="../reference/harmonized_dossier_evaluate.html">harmonized_dossier_evaluate()</a>,
<a href="../reference/harmonized_dossier_summary.html">harmonized_dossier_summary()</a>
and <a href="../reference/harmonized_dossier_visualize.html">harmonized_dossier_visualize()</a>
to help in the the assessment of harmonization.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Guillaume Fabre, Maelstrom-research group.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
