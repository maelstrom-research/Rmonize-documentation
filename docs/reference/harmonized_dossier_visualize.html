<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Generate a web-based bookdown visual report of a harmonized dossier — harmonized_dossier_visualize • Rmonize</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Generate a web-based bookdown visual report of a harmonized dossier — harmonized_dossier_visualize"><meta property="og:description" content="Generates a visual report for a dataset in an HTML bookdown document. The
report provides figures and descriptive statistics for each variable to
facilitate the assessment of input data. Statistics and figures are generated
according to variable data type. The report can be used to help assess
data structure, coherence across elements, and taxonomy or
data dictionary formats. The summaries and figures provide additional
information about variable distributions and descriptive statistics.
The charts and tables are produced based on their data type. The variable can
be grouped using group_by parameter, which is a (categorical) column in the
dataset. The user may need to use as.factor() in this context. To fasten
the process (and allow recycling object in a workflow) the user can feed the
function with a .summary_var, which is the output of the function
dataset_summarize() of the column(s) col and  group_by. The summary
must have the same parameters to operate."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Rmonize</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/a-Glossary-and-templates.html">Glossary and templates</a>
    </li>
    <li>
      <a href="../articles/b-The-Data-processing-elements.html">The Data Processing Elements</a>
    </li>
    <li>
      <a href="../articles/c-Example-with-DEMO-files.html">Example with DEMO files</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/maelstrom-research/Rmonize/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate a web-based bookdown visual report of a harmonized dossier</h1>
    <small class="dont-index">Source: <a href="https://github.com/maelstrom-research/Rmonize/blob/HEAD/R/05-harmonized_data_visualise.R" class="external-link"><code>R/05-harmonized_data_visualise.R</code></a></small>
    <div class="hidden name"><code>harmonized_dossier_visualize.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generates a visual report for a dataset in an HTML bookdown document. The
report provides figures and descriptive statistics for each variable to
facilitate the assessment of input data. Statistics and figures are generated
according to variable data type. The report can be used to help assess
data structure, coherence across elements, and taxonomy or
data dictionary formats. The summaries and figures provide additional
information about variable distributions and descriptive statistics.
The charts and tables are produced based on their data type. The variable can
be grouped using <code>group_by</code> parameter, which is a (categorical) column in the
dataset. The user may need to use <code><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor()</a></code> in this context. To fasten
the process (and allow recycling object in a workflow) the user can feed the
function with a <code>.summary_var</code>, which is the output of the function
<code><a href="dataset_summarize.html">dataset_summarize()</a></code> of the column(s) <code>col</code> and  <code>group_by</code>. The summary
must have the same parameters to operate.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">harmonized_dossier_visualize</span><span class="op">(</span></span>
<span>  harmonized_dossier <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pooled_harmonized_dataset <span class="op">=</span> <span class="fu"><a href="pooled_harmonized_dataset_create.html">pooled_harmonized_dataset_create</a></span><span class="op">(</span><span class="va">harmonized_dossier</span><span class="op">)</span>,</span>
<span>  dataschema <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/madshapR/man/data_dict_extract.html" class="external-link">data_dict_extract</a></span><span class="op">(</span><span class="va">pooled_harmonized_dataset</span><span class="op">)</span>,</span>
<span>  group_by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">pooled_harmonized_dataset</span><span class="op">)</span><span class="op">$</span><span class="va">`Rmonize::unique_col_dataset`</span>,</span>
<span>  <span class="va">bookdown_path</span>,</span>
<span>  taxonomy <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  valueType_guess <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  render <span class="op">=</span> <span class="st">"html"</span>,</span>
<span>  .summary_pool <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>harmonized_dossier</dt>
<dd><p>List of tibble(s), each of them being
harmonized dataset.</p></dd>


<dt>pooled_harmonized_dataset</dt>
<dd><p>A tibble, identifying the
pooled harmonized dataset.</p></dd>


<dt>dataschema</dt>
<dd><p>A list of tibble(s) representing metadata of an
associated harmonized dossier.</p></dd>


<dt>group_by</dt>
<dd><p>A character string of one column in the
pooled harmonized dataset that can be taken as a grouping column.
The visual element will be grouped and displayed by this column.</p></dd>


<dt>bookdown_path</dt>
<dd><p>A character string identifying the folder path where the
bookdown report will be saved.</p></dd>


<dt>taxonomy</dt>
<dd><p>A tibble identifying the scheme used for variables
classification.</p></dd>


<dt>valueType_guess</dt>
<dd><p>Whether the output should include a more accurate
valueType that could be applied to the dataset. FALSE by default.</p></dd>


<dt>render</dt>
<dd><p>Output format of the visual report. To date, the format can
only be 'html', but will be expand to other formats in the future.</p></dd>


<dt>.summary_pool</dt>
<dd><p>A list which is the summary of the variables.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A bookdown folder containing files in the specified output folder. To
open the file in browser, open 'docs/index.html'.
Or use <code><a href="bookdown_open.html">bookdown_open()</a></code></p>


    </div>
    <div id="details">
    <h2>Details</h2>
    <p>A harmonized dossier must be a named list containing at least one data frame
or data frame extension (e.g. a tibble), each of them being
harmonized dataset(s). It is generally the product of applying harmonization
processing to a dossier object. The name of each tibble will be use as the
reference name of the dataset. A harmonized dossier has four attributes :
<code><a href="https://rdrr.io/r/base/class.html" class="external-link">Rmonize::class</a></code> which is "harmonized_dossier" ; <code>Rmonize::DataSchema</code>
(provided by user) ; <code>Rmonize::Data Processing Elements</code> ;
<code>Rmonize::harmonized_col_id</code> (provided by user) which refers to the column
in each dataset which identifies unique combination observation/dataset.
This id column name is the same across the dataset(s), the DataSchema and
the Data Processing Elements (created by using 'id_creation') and is used to
initiate the process of harmonization.</p>
<p>A taxonomy is classification scheme that can be defined for variable
attributes. If defined, a taxonomy must be a data frame like object. It must
be compatible with (and is generally extracted from) an Opal environment. To
work with certain functions, a valid taxonomy must contain at least the
columns 'taxonomy', 'vocabulary', and 'terms'. In addition, the taxonomy
may follow Maelstrom research taxonomy, and its content can be evaluated
accordingly, such as naming convention restriction, tagging elements,
or scales, which are specific to Maelstrom Research. In this particular
case, the tibble must also contain 'vocabulary_short', 'taxonomy_scale',
'vocabulary_scale' and 'term_scale' to work with some specific functions.</p>
<p>The valueType is a property of a variable and is required in certain
functions to determine the handling of the variables. The valueType refers
to the OBiBa-internal type of a variable. It is specified in a data
dictionary in a column <code>valueType</code> and can be associated with variables as
attributes. Acceptable valueTypes include 'text', 'integer', 'decimal',
'boolean', datetime', 'date'). The full list of OBiBa valueType
possibilities and their correspondence with R data types are available using
<a href="https://rdrr.io/pkg/madshapR/man/valueType_list.html" class="external-link">madshapR::valueType_list</a>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="pooled_harmonized_dataset_create.html">pooled_harmonized_dataset_create()</a></code>
<code><a href="dataset_summarize.html">dataset_summarize()</a></code>
<code><a href="bookdown_open.html">bookdown_open()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can use our demonstration files to run examples</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/maelstrom-research/madshapR" class="external-link">madshapR</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://fs.r-lib.org" class="external-link">fs</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pooled_harmonized_dataset</span> <span class="op">&lt;-</span> <span class="va">Rmonize_DEMO</span><span class="op">$</span><span class="va">pooled_harmonized_dataset</span></span></span>
<span class="r-in"><span><span class="va">dataschema</span> <span class="op">&lt;-</span> <span class="va">Rmonize_DEMO</span><span class="op">$</span><span class="va">`dataschema - final`</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/madshapR/man/data_dict_filter.html" class="external-link">data_dict_filter</a></span><span class="op">(</span><span class="st">'name == "adm_unique_id"'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">summary_var_harmo</span> <span class="op">&lt;-</span> <span class="va">Rmonize_DEMO</span><span class="op">$</span><span class="va">summary_var_harmo</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://fs.r-lib.org/reference/file_access.html" class="external-link">dir_exists</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://fs.r-lib.org/reference/delete.html" class="external-link">dir_delete</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bookdown_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">harmonized_dossier_visualize</span><span class="op">(</span></span></span>
<span class="r-in"><span>  pooled_harmonized_dataset <span class="op">=</span> <span class="va">pooled_harmonized_dataset</span>,</span></span>
<span class="r-in"><span>  dataschema <span class="op">=</span> <span class="va">dataschema</span>,</span></span>
<span class="r-in"><span>  bookdown_path <span class="op">=</span> <span class="va">bookdown_path</span>,</span></span>
<span class="r-in"><span>  .summary_pool <span class="op">=</span> <span class="va">summary_var_harmo</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To open the file in browser, open 'bookdown_path/docs/index.html'.</span></span></span>
<span class="r-in"><span><span class="co"># Or use bookdown_open(bookdown_path) function</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1/7                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2/7 [unnamed-chunk-1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3/7                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4/7 [unnamed-chunk-2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5/7                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6/7 [unnamed-chunk-3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7/7                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/pandoc" +RTS -K512m -RTS bookdownproj.knit.md --to html4 --from markdown+autolink_bare_uris+tex_math_single_backslash --output bookdownproj.html --lua-filter "C:\Users\guill\AppData\Local\R\win-library\4.3\bookdown\rmarkdown\lua\custom-environment.lua" --lua-filter "C:\Users\guill\AppData\Local\R\win-library\4.3\rmarkdown\rmarkdown\lua\pagebreak.lua" --lua-filter "C:\Users\guill\AppData\Local\R\win-library\4.3\rmarkdown\rmarkdown\lua\latex-div.lua" --lua-filter "C:\Users\guill\AppData\Local\R\win-library\4.3\rmarkdown\rmarkdown\lua\anchor-sections.lua" --metadata-file "C:\Users\guill\AppData\Local\Temp\Rtmpu2MlPL\file3898316e2ebc" --wrap preserve --standalone --section-divs --table-of-contents --toc-depth 3 --template "C:\Users\guill\AppData\Local\R\win-library\4.3\bookdown\templates\gitbook.html" --highlight-style pygments --number-sections --css style.css --mathjax --include-in-header "C:\Users\guill\AppData\Local\Temp\Rtmpu2MlPL\rmarkdown-str38981e25bb1.html" </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> To edit your file, You can use the function `bookdown_open('C:\Users\guill\AppData\Local\Temp\Rtmpu2MlPL')`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> (Compatibility tested on Chrome, Edge and Mozilla)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Guillaume Fabre, Maelstrom-research, ReACH (Research Advancement through Cohort Cataloguing and Harmonization), CITF (COVID-19 Immunity Task Force), EUCAN-connect.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

