<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Generate a web-based visual report for a harmonized dossier — harmonized_dossier_visualize • Rmonize</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Generate a web-based visual report for a harmonized dossier — harmonized_dossier_visualize"><meta property="og:description" content="Generates a visual report of a harmonized dossier in an HTML bookdown
document, with summary figures and statistics for each harmonized variable.
The report outputs can be grouped by a categorical variable."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Rmonize</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.1.0003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/a-Glossary-and-templates.html">Glossary and templates</a>
    </li>
    <li>
      <a href="../articles/b-Data-processing-elements.html">Data Processing Elements</a>
    </li>
    <li>
      <a href="../articles/c-Example-with-Rmonize_DEMO.html">Example with Rmonize_DEMO</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/maelstrom-research/Rmonize/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate a web-based visual report for a harmonized dossier</h1>
    <small class="dont-index">Source: <a href="https://github.com/maelstrom-research/Rmonize/blob/HEAD/R/05-harmonized_data_visualize.R" class="external-link"><code>R/05-harmonized_data_visualize.R</code></a></small>
    <div class="hidden name"><code>harmonized_dossier_visualize.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generates a visual report of a harmonized dossier in an HTML bookdown
document, with summary figures and statistics for each harmonized variable.
The report outputs can be grouped by a categorical variable.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">harmonized_dossier_visualize</span><span class="op">(</span></span>
<span>  <span class="va">harmonized_dossier</span>,</span>
<span>  <span class="va">bookdown_path</span>,</span>
<span>  group_by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">harmonized_dossier</span><span class="op">)</span><span class="op">$</span><span class="va">`Rmonize::harmonized_col_dataset`</span>,</span>
<span>  harmonized_dossier_summary <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dataschema <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">harmonized_dossier</span><span class="op">)</span><span class="op">$</span><span class="va">`Rmonize::DataSchema`</span>,</span>
<span>  data_proc_elem <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">harmonized_dossier</span><span class="op">)</span><span class="op">$</span><span class="va">`Rmonize::Data Processing Element`</span>,</span>
<span>  valueType_guess <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  taxonomy <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>harmonized_dossier</dt>
<dd><p>A list containing the harmonized dataset(s).</p></dd>


<dt>bookdown_path</dt>
<dd><p>A character string identifying the folder path where
the bookdown report files will be saved.</p></dd>


<dt>group_by</dt>
<dd><p>A character string identifying the column in each
harmonized dataset to use as a grouping variable. Visual elements will be
grouped by this column.</p></dd>


<dt>harmonized_dossier_summary</dt>
<dd><p>A list which identifies an existing
summary produced by <code><a href="harmonized_dossier_summarize.html">harmonized_dossier_summarize()</a></code> of the harmonized
variables.
Using this parameter can save time in generating the visual report.</p></dd>


<dt>dataschema</dt>
<dd><p>A DataSchema object.</p></dd>


<dt>data_proc_elem</dt>
<dd><p>A Data Processing Elements object.</p></dd>


<dt>valueType_guess</dt>
<dd><p>Whether the output should be generated based on more
precise valueType inferred from the data. FALSE by default
(will use the valueType declared).</p></dd>


<dt>taxonomy</dt>
<dd><p>An optional data frame identifying a variable
classification schema.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A folder containing files for the bookdown site. To open the bookdown site
in a browser, open 'docs/index.html', or use <code><a href="bookdown_open.html">bookdown_open()</a></code> with the
folder path.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>A harmonized dossier is a named list containing one or more data frames,
which are harmonized datasets. A harmonized dossier is generally the
product of applying processing to a dossier object The name of each
harmonized dataset (data frame) is taken from the reference input dataset.
A harmonized dossier also contains the DataSchema and
Data Processing Elements used in processing as attributes.</p>
<p>A DataSchema is the list of core variables to generate across datasets and
related metadata. A DataSchema object is a list of data frames with elements
named 'Variables' (required) and 'Categories' (if any). The 'Variables'
element must contain at least the <code>name</code> column, and the 'Categories'
element must contain at least the <code>variable</code> and <code>name</code> columns to be usable
in any function. In 'Variables' the <code>name</code> column must also have unique
entries, and in 'Categories' the combination of <code>variable</code> and <code>name</code> columns
must also be unique.</p>
<p>The Data Processing Elements specifies the algorithms used to process input
variables into harmonized variables in the DataSchema format. It is also
contains metadata used to generate documentation of the processing.
A Data Processing Elements object is a data frame with specific columns
used in data processing: <code>dataschema_variable</code>, <code>input_dataset</code>,
<code>input_variables</code>, <code>Mlstr_harmo::rule_category</code> and <code>Mlstr_harmo::algorithm</code>.
To initiate processing, the first entry must be the creation of a harmonized
primary identifier variable (e.g., participant unique ID).</p>
<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/variables-data.html#value-types" class="external-link">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using <a href="https://rdrr.io/pkg/madshapR/man/valueType_list.html" class="external-link">valueType_list</a>.</p>
<p>A taxonomy is a classification schema that can be defined for variable
attributes. A taxonomy is usually extracted from an
<a href="https://www.obiba.org/pages/products/opal/" class="external-link">Opal environment</a>, and a
taxonomy object is a data frame that must contain at least the columns
<code>taxonomy</code>, <code>vocabulary</code>, and <code>terms</code>. Additional details about Opal
taxonomies are
<a href="https://opaldoc.obiba.org/en/latest/web-user-guide/administration/taxonomies.html" class="external-link">available online</a>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="dataset_visualize.html">dataset_visualize()</a></code>
<code><a href="bookdown_open.html">bookdown_open()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use Rmonize_DEMO to run examples.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://fs.r-lib.org" class="external-link">fs</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">harmonized_dossier</span> <span class="op">&lt;-</span> <span class="va">Rmonize_DEMO</span><span class="op">$</span><span class="va">harmonized_dossier</span></span></span>
<span class="r-in"><span><span class="va">harmonized_dossier_summary</span> <span class="op">&lt;-</span> <span class="va">Rmonize_DEMO</span><span class="op">$</span><span class="va">harmonized_dossier_summary</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://fs.r-lib.org/reference/file_access.html" class="external-link">dir_exists</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://fs.r-lib.org/reference/delete.html" class="external-link">dir_delete</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bookdown_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">harmonized_dossier_visualize</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">harmonized_dossier</span>,</span></span>
<span class="r-in"><span>  bookdown_path <span class="op">=</span> <span class="va">bookdown_path</span>,</span></span>
<span class="r-in"><span>  harmonized_dossier_summary <span class="op">=</span> <span class="va">harmonized_dossier_summary</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To open the file in browser, open 'bookdown_path/docs/index.html'.</span></span></span>
<span class="r-in"><span><span class="co"># Or use bookdown_open(bookdown_path) function</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> An additional variable `Rmonize::harmonized_col_dataset` has been created</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> with harmonized dataset names as values for each harmonized dataset.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> </span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> Useful tip:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> To avoid this message, we recommend to set `harmonized_col_dataset` as a </span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> categorical variable DataSchema, or to set `add_col_dataset` = FALSE.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1/23                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2/23 [unnamed-chunk-1] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3/23                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4/23 [unnamed-chunk-2] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5/23                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6/23 [unnamed-chunk-3] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7/23                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8/23 [unnamed-chunk-4] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9/23                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10/23 [unnamed-chunk-5] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11/23                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12/23 [unnamed-chunk-6] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13/23                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14/23 [figures-plot12-1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15/23                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16/23 [unnamed-chunk-7] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17/23                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18/23 [unnamed-chunk-8] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19/23                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20/23 [unnamed-chunk-9] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21/23                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22/23 [figures-plot12-2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23/23                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/pandoc" +RTS -K512m -RTS bookdownproj.knit.md --to html4 --from markdown+autolink_bare_uris+tex_math_single_backslash --output bookdownproj.html --lua-filter "C:\Users\guill\AppData\Local\R\win-library\4.3\bookdown\rmarkdown\lua\custom-environment.lua" --lua-filter "C:\Users\guill\AppData\Local\R\win-library\4.3\rmarkdown\rmarkdown\lua\pagebreak.lua" --lua-filter "C:\Users\guill\AppData\Local\R\win-library\4.3\rmarkdown\rmarkdown\lua\latex-div.lua" --lua-filter "C:\Users\guill\AppData\Local\R\win-library\4.3\rmarkdown\rmarkdown\lua\anchor-sections.lua" --metadata-file "C:\Users\guill\AppData\Local\Temp\RtmpUlyF6C\file706012de7b6f" --wrap preserve --standalone --section-divs --table-of-contents --toc-depth 3 --template "C:\Users\guill\AppData\Local\R\win-library\4.3\bookdown\templates\gitbook.html" --highlight-style pygments --number-sections --css style.css --mathjax --include-in-header "C:\Users\guill\AppData\Local\Temp\RtmpUlyF6C\rmarkdown-str7060603a3a1c.html" </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> To edit your file, You can use the function `bookdown_open('C:\Users\guill\AppData\Local\Temp\RtmpUlyF6C')`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> (Compatibility tested on Chrome, Edge and Mozilla)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Guillaume Fabre, Maelstrom-research.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

