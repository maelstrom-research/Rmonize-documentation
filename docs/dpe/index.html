<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand -->
<html lang="en">
  <head>
    <meta
      http-equiv="Content-Type"
      content="text/html; charset=UTF-8"
    />
    <meta charset="utf-8" />
    <meta
      http-equiv="X-UA-Compatible"
      content="IE=edge"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Data Processing Elements</title>
    <!-- jquery -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"
    ></script>
    <!-- Bootstrap -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js"
      integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4="
      crossorigin="anonymous"
    ></script>
    <!-- bootstrap-toc -->
    <link
      rel="stylesheet"
      href="../bootstrap-toc.css"
    />
    <script src="../bootstrap-toc.js"></script>
    <!-- Font Awesome icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
      integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css"
      integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw="
      crossorigin="anonymous"
    />
    <!-- clipboard.js -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"
      integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI="
      crossorigin="anonymous"
    ></script>
    <!-- headroom.js -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js"
      integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js"
      integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4="
      crossorigin="anonymous"
    ></script>
    <!-- pkgdown -->
    <link
      href="../pkgdown.css"
      rel="stylesheet"
    />
    <script src="../pkgdown.js"></script>
    <meta
      property="og:title"
      content="Data Processing Element"
    />
    <!-- mathjax -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"
      integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js"
      integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA="
      crossorigin="anonymous"
    ></script>
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body
    data-spy="scroll"
    data-target="#toc"
  >
    <div class="container template-news">
      <header>
        <div
          class="navbar navbar-default navbar-fixed-top"
          role="navigation"
        >
          <div class="container">
            <div class="navbar-header">
              <button
                type="button"
                class="navbar-toggle collapsed"
                data-toggle="collapse"
                data-target="#navbar"
                aria-expanded="false"
              >
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <span class="navbar-brand">
                <a
                  class="navbar-link"
                  href="../index.html"
                  >Rmonize</a
                >
                <span
                  class="version label label-default"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title=""
                  >2.0.0</span
                >
              </span>
            </div>

            <div
              id="navbar"
              class="navbar-collapse collapse"
            >
              <ul class="nav navbar-nav">
                <li>
                  <a href="../process/index.html">Process</a>
                </li>
                <li>
                  <a href="../reference/index.html">Functions</a>
                </li>
                <li>
                  <a href="../glossary/index.html">Glossary</a>
                </li>
                <li>
                  <a href="../news/index.html">Updates</a>
                </li>
              </ul>
              <ul class="nav navbar-nav navbar-right">
                <li>
                  <a
                    href="https://github.com/maelstrom-research/Rmonize/"
                    class="external-link"
                  >
                    <span class="fab fa-github fa-lg"></span>
                  </a>
                </li>
              </ul>
            </div>
            <!--/.nav-collapse -->
          </div>
          <!--/.container -->
        </div>
        <!--/.navbar -->
      </header>
      <script src="dpe_files/htmlwidgets-1.6.2/htmlwidgets.js"></script>
      <link
        href="dpe_files/datatables-css-0.0.0/datatables-crosstalk.css"
        rel="stylesheet"
      />
      <script src="dpe_files/datatables-binding-0.30/datatables.js"></script>
      <link
        href="dpe_files/dt-core-1.13.4/css/jquery.dataTables.min.css"
        rel="stylesheet"
      />
      <link
        href="dpe_files/dt-core-1.13.4/css/jquery.dataTables.extra.css"
        rel="stylesheet"
      />
      <script src="dpe_files/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
      <link
        href="dpe_files/crosstalk-1.2.0/css/crosstalk.min.css"
        rel="stylesheet"
      />
      <script src="dpe_files/crosstalk-1.2.0/js/crosstalk.min.js"></script>
      <script src="dpe_files/jszip-1.13.4/jszip.min.js"></script>
      <link
        href="dpe_files/dt-ext-buttons-1.13.4/css/buttons.dataTables.min.css"
        rel="stylesheet"
      />
      <script src="dpe_files/dt-ext-buttons-1.13.4/js/dataTables.buttons.min.js"></script>
      <script src="dpe_files/dt-ext-buttons-1.13.4/js/buttons.html5.min.js"></script>
      <script src="dpe_files/dt-ext-buttons-1.13.4/js/buttons.colVis.min.js"></script>
      <script src="dpe_files/dt-ext-buttons-1.13.4/js/buttons.print.min.js"></script>
      <div class="row">
        <div class="col-md-9 contents">
          <div class="page-header toc-ignore">
            <h1 data-toc-skip>Data Processing Elements <small></small></h1>

            <div>
              <div class="section level2">
                <h2 id="data-processing-elements">
                  <a
                    class="anchor"
                    aria-label="anchor"
                    href="#data-processing-elements"
                  ></a>
                </h2>
                <p>
                  The <a href="https://maelstrom-research.github.io/Rmonize-documentation/glossary/index.html#data-processing-elements">Data Processing Elements</a> (DPE) is a table that defines and
                  documents information about the processing used to generate harmonized datasets. It is typically prepared from an
                  <a href="https://maelstrom-research.github.io/Rmonize-documentation/templates/data_processing_elements%20-%20template.xlsx">Excel template</a>, where each row specifies if the input
                  dataset can generate the <a href="https://maelstrom-research.github.io/Rmonize-documentation/glossary/index.html#dataschema">DataSchema</a> variable, and if so, the input variables
                  and processing algorithms to generate the harmonized variable as defined in the DataSchema. This page explains the basic methods to fill out the DPEs to be used correctly by Rmonize
                  functions.
                </p>
              </div>
              <div class="section level2">
                <h2 id="general-structure-of-the-dpe">
                  General Structure of the DPE<a
                    class="anchor"
                    aria-label="anchor"
                    href="#general-structure-of-the-dpe"
                  ></a>
                </h2>
                <p>
                  The DPE has five mandatory columns that are required for data processing with Rmonize functions to work properly. Additional columns for documentation can be present but must use
                  different names and are not used by Rmonize functions.
                </p>
                <div>
                  <p></p>
                  <div
                    class="datatables html-widget html-fill-item-overflow-hidden html-fill-item"
                    id="htmlwidget-30ef47702a061afb664b"
                    style="width: 100%; height: auto"
                  ></div>
                  <script
                    type="application/json"
                    data-for="htmlwidget-30ef47702a061afb664b"
                  >
                    {
                      "x": {
                        "filter": "none",
                        "vertical": false,
                        "autoHideNavigation": true,
                        "data": [
                          [
                            "<code><b>dataschema_variable<\/b><\/code>",
                            "<code><b>input_dataset<\/b><\/code>",
                            "<code><b>input_variables<\/b><\/code>",
                            "<code><b>Mlstr_harmo::rule_category<\/b><\/code>",
                            "<code><b>Mlstr_harmo::algorithm<\/b><\/code>"
                          ],
                          [
                            "Name of the DataSchema variable being generated",
                            "Name of the input dataset containing the input variable(s)",
                            "Name(s) of the input variable(s) used in data processing, <br>\n separated by semicolons (;)",
                            "Type of algorithm used to generate the DataSchema variable <br>\n (see details below)",
                            "Algorithm used to generate the DataSchema variable <br>\n (see details below)"
                          ]
                        ],
                        "container": "<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>Column name<\/th>\n      <th>Description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>",
                        "options": { "pageLength": 5, "ordering": false, "columnDefs": [], "order": [], "autoWidth": false, "orderClasses": false, "lengthMenu": [5, 10, 25, 50, 100] }
                      },
                      "evals": [],
                      "jsHooks": []
                    }
                  </script>
                </div>
              </div>
              <div class="section level2">
                <h2 id="rule-categories">
                  Rule Categories<a
                    class="anchor"
                    aria-label="anchor"
                    href="#rule-categories"
                  ></a>
                </h2>
                <!-- Rule Categories Navigation -->
                <div class="row">
                  <!-- Nav Buttons -->
                  <div class="col-md-3">
                    <ul
                      class="nav nav-pills nav-stacked"
                      role="tablist"
                    >
                      <li class="active">
                        <a
                          href="#id-creation"
                          role="tab"
                          data-toggle="tab"
                        >
                          id_creation
                        </a>
                      </li>
                      <li>
                        <a
                          href="#direct-mapping"
                          role="tab"
                          data-toggle="tab"
                        >
                          direct_mapping
                        </a>
                      </li>
                      <li>
                        <a
                          href="#recode"
                          role="tab"
                          data-toggle="tab"
                        >
                          recode
                        </a>
                      </li>
                      <li>
                        <a
                          href="#case-when"
                          role="tab"
                          data-toggle="tab"
                        >
                          case_when
                        </a>
                      </li>
                      <li>
                        <a
                          href="#paste"
                          role="tab"
                          data-toggle="tab"
                        >
                          paste
                        </a>
                      </li>
                      <li>
                        <a
                          href="#operation"
                          role="tab"
                          data-toggle="tab"
                        >
                          operation
                        </a>
                      </li>
                      <li>
                        <a
                          href="#other"
                          role="tab"
                          data-toggle="tab"
                        >
                          other
                        </a>
                      </li>
                      <li>
                        <a
                          href="#impossible-undetermined"
                          role="tab"
                          data-toggle="tab"
                        >
                          impossible<br />
                          undetermined
                        </a>
                      </li>
                    </ul>
                  </div>
                  <div class="col-md-9">
                    <!-- Nav Contents -->
                    <div class="tab-content">
                      <!-- ID Creation -->
                      <div
                        id="id-creation"
                        class="tab-pane fade active in"
                      >
                        <p>
                          <strong>id_creation</strong> creates a unique id per row of the input dataset and must be the first rule for each input dataset to initiate data processing. The user provides
                          the input variable to use.
                        </p>
                        <div style="width: 70%; margin: 0 auto; display: flex; justify-content: center">
                          <p></p>
                          <div
                            class="datatables html-widget html-fill-item-overflow-hidden html-fill-item"
                            id="htmlwidget-0ccbeaeba947fbd6112b"
                            style="width: 100%; height: auto"
                          ></div>
                          <script
                            type="application/json"
                            data-for="htmlwidget-0ccbeaeba947fbd6112b"
                          >
                            {
                              "x": {
                                "filter": "none",
                                "vertical": false,
                                "autoHideNavigation": true,
                                "data": [
                                  ["<b>dataschema_variable<\/b>", "<b>input_dataset<\/b>", "<b>input_variables<\/b>", "<b>Mlstr_harmo::rule_category<\/b>", "<b>Mlstr_harmo::algorithm<\/b>"],
                                  ["<code> harmonized_id <\/code>", "<code> input_dataset <\/code>", "<code> input_id <\/code>", "<code><b>id_creation<\/b><\/code>", "<code> input_id <\/code>"]
                                ],
                                "container": "<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th><\/th>\n    <\/tr>\n  <\/thead>\n<\/table>",
                                "options": {
                                  "pageLength": 5,
                                  "ordering": false,
                                  "columnDefs": [{ "orderable": false, "targets": 0 }],
                                  "order": [],
                                  "autoWidth": false,
                                  "orderClasses": false,
                                  "lengthMenu": [5, 10, 25, 50, 100]
                                }
                              },
                              "evals": [],
                              "jsHooks": []
                            }
                          </script>
                        </div>
                        <p><br /></p>
                        <p>Notes:</p>
                        <ul>
                          <li><p>The values of the harmonized variable are taken directly from the input values.</p></li>
                          <li>
                            <p>The input dataset should have an identifier created before harmonization in the desired format.</p>
                          </li>
                        </ul>
                      </div>
                      <!-- Direct Mapping -->
                      <div
                        id="direct-mapping"
                        class="tab-pane fade"
                      >
                        <p><strong>direct_mapping</strong> generates the harmonization variable by replicating one input variable.</p>
                        <div style="width: 70%; margin: 0 auto; display: flex; justify-content: center">
                          <p></p>
                          <div
                            class="datatables html-widget html-fill-item-overflow-hidden html-fill-item"
                            id="htmlwidget-abb343917443250fb526"
                            style="width: 100%; height: auto"
                          ></div>
                          <script
                            type="application/json"
                            data-for="htmlwidget-abb343917443250fb526"
                          >
                            {
                              "x": {
                                "filter": "none",
                                "vertical": false,
                                "autoHideNavigation": true,
                                "data": [
                                  ["<b>dataschema_variable<\/b>", "<b>input_dataset<\/b>", "<b>input_variables<\/b>", "<b>Mlstr_harmo::rule_category<\/b>", "<b>Mlstr_harmo::algorithm<\/b>"],
                                  [
                                    "<code> harmonized_var <\/code>",
                                    "<code> input_dataset <\/code>",
                                    "<code> input_var <\/code>",
                                    "<code> <b>direct_mapping<\/b> <\/code>",
                                    "<code> <b>direct_mapping<\/b> <\/code>"
                                  ]
                                ],
                                "container": "<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th><\/th>\n    <\/tr>\n  <\/thead>\n<\/table>",
                                "options": {
                                  "pageLength": 5,
                                  "ordering": false,
                                  "columnDefs": [{ "orderable": false, "targets": 0 }],
                                  "order": [],
                                  "autoWidth": false,
                                  "orderClasses": false,
                                  "lengthMenu": [5, 10, 25, 50, 100]
                                }
                              },
                              "evals": [],
                              "jsHooks": []
                            }
                          </script>
                        </div>
                        <p><br /></p>
                        <p>Note:</p>
                        <ul>
                          <li>Uses only one input variable.</li>
                        </ul>
                      </div>
                      <!-- Recode -->
                      <div
                        id="recode"
                        class="tab-pane fade"
                      >
                        <p><strong>recode</strong> generates the harmonized variable by recoding values from one input variable.</p>
                        <div style="width: 70%; margin: 0 auto; display: flex; justify-content: center">
                          <p></p>
                          <div
                            class="datatables html-widget html-fill-item-overflow-hidden html-fill-item"
                            id="htmlwidget-4ff457944e0f3f4690d2"
                            style="width: 100%; height: auto"
                          ></div>
                          <script
                            type="application/json"
                            data-for="htmlwidget-4ff457944e0f3f4690d2"
                          >
                            {
                              "x": {
                                "filter": "none",
                                "vertical": false,
                                "autoHideNavigation": true,
                                "data": [
                                  ["<b>dataschema_variable<\/b>", "<b>input_dataset<\/b>", "<b>input_variables<\/b>", "<b>Mlstr_harmo::rule_category<\/b>", "<b>Mlstr_harmo::algorithm<\/b>"],
                                  [
                                    "<code> harmonized_var <\/code>",
                                    "<code> input_dataset <\/code>",
                                    "<code> input_var <\/code>",
                                    "<code> <b>recode<\/b> <\/code>",
                                    "<code> <b>recode(<\/b>\n  \"YES\" = 1 ;\n  \"NO\"  = 0 ;\n  ELSE  = NA<b>) <\/b> <\/code>"
                                  ]
                                ],
                                "container": "<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th><\/th>\n    <\/tr>\n  <\/thead>\n<\/table>",
                                "options": {
                                  "pageLength": 5,
                                  "ordering": false,
                                  "columnDefs": [{ "orderable": false, "targets": 0 }],
                                  "order": [],
                                  "autoWidth": false,
                                  "orderClasses": false,
                                  "lengthMenu": [5, 10, 25, 50, 100]
                                }
                              },
                              "evals": [],
                              "jsHooks": []
                            }
                          </script>
                        </div>
                        <p><br /></p>
                        <p>Notes:</p>
                        <ul>
                          <li><p>Uses only one input variable.</p></li>
                          <li>
                            <p>
                              • The input variable should generally be a categorical variable. To create a categorical harmonized variable from a continuous input variable, use
                              <strong>case_when</strong> instead.
                            </p>
                          </li>
                          <li>
                            <p>• If all values in the input variable are the same as in the DataSchema variable, use <strong>direct_mapping</strong> instead.</p>
                          </li>
                          <li>
                            <p>• Specify each input value to output value recoding with an equal sign <strong>=</strong></p>
                          </li>
                          <li>
                            <p>• Separate each recoding with a semi-colon <strong>;</strong> .</p>
                          </li>
                          <li>
                            <p>• Use <strong>ELSE = NA</strong> to attribute NA to all remaining input values.</p>
                          </li>
                        </ul>
                        <p>
                          If equal signs <strong>=</strong> already exist in the data, use <strong>_=</strong> to escape them. Similarly, if semi-colons <strong>;</strong> already exist in the data,
                          use <strong>_;</strong> to escape them.
                        </p>

                        <p>Numerical input values can be gathered using R syntax to recode multiple values at the same time.</p>
                        <pre><code>recode(
0            = "low"   ;
c(1:10)      = "mid"   ;
c(-7, -99)   = NA    )
</code></pre>
                        <p>If more complex coding is required, use <strong>case_when</strong> or <strong>other</strong> instead.</p>
                      </div>
                      <!-- Case When -->
                      <div
                        id="case-when"
                        class="tab-pane fade"
                      >
                        <p><strong>case_when</strong> generates the harmonized variable from one or more if-else conditions, using one or more input variable.</p>
                        <div style="width: 70%; margin: 0 auto; display: flex; justify-content: center">
                          <p></p>
                          <div
                            class="datatables html-widget html-fill-item-overflow-hidden html-fill-item"
                            id="htmlwidget-98c43fd9451176b8dda0"
                            style="width: 100%; height: auto"
                          ></div>
                          <script
                            type="application/json"
                            data-for="htmlwidget-98c43fd9451176b8dda0"
                          >
                            {
                              "x": {
                                "filter": "none",
                                "vertical": false,
                                "autoHideNavigation": true,
                                "data": [
                                  ["<b>dataschema_variable<\/b>", "<b>input_dataset<\/b>", "<b>input_variables<\/b>", "<b>Mlstr_harmo::rule_category<\/b>", "<b>Mlstr_harmo::algorithm<\/b>"],
                                  [
                                    "<code> harmonized_var <\/code>",
                                    "<code> input_dataset <\/code>",
                                    "<code> input_var_x ; input_var_y ; input_var_z <\/code>",
                                    "<code> <b>case_when<\/b> <\/code>",
                                    "<code> <b>case_when(<\/b>\n  var_x == 1 ~ var_y ;\n vari_x == 2 ~ var_z ;\n  ELSE ~ NA<b>)<\/b> <\/code>"
                                  ]
                                ],
                                "container": "<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th><\/th>\n    <\/tr>\n  <\/thead>\n<\/table>",
                                "options": {
                                  "pageLength": 5,
                                  "ordering": false,
                                  "columnDefs": [{ "orderable": false, "targets": 0 }],
                                  "order": [],
                                  "autoWidth": false,
                                  "orderClasses": false,
                                  "lengthMenu": [5, 10, 25, 50, 100]
                                }
                              },
                              "evals": [],
                              "jsHooks": []
                            }
                          </script>
                        </div>
                        <p><br /></p>
                        <p>Notes:</p>
                        <ul>
                          <li>
                            <p>Multiple input variables can be used. Separate the name of each in the <strong>input_variables</strong> column with a semi-colon <strong>;</strong></p>
                          </li>
                          <li>
                            <p>If only one input variable is used, consider using <strong>recode</strong> or <strong>direct_mapping</strong> instead.</p>
                          </li>
                          <li>
                            <p>Separate the left and right side (input/output) of each statement combination with a tilde <strong>~</strong></p>
                          </li>
                          <li>
                            <p>Separate each case-when statement with a semi-colon <strong>;</strong> .</p>
                          </li>
                          <li>
                            <p>Use <strong>ELSE ~ NA</strong> to attribute NA to all remaining input values.</p>
                          </li>
                        </ul>
                        <p><strong>case_when</strong> is sensitive to data type. Each output value generated by statements must have the same data type, including NA values.</p>
                        <pre><code>case_when(
var_x == 1                 ~ 1L
var_x == 0 &amp; !is.na(var_y) ~ 0L
ELSE                       ~ NA_integer_  )

case_when(
var_x == 1                 ~ "1"
var_x == 0 &amp; !is.na(var_y) ~ "0"
ELSE                       ~ NA_character_)
</code></pre>
                        <p>If the statement requires more complex coding, consider use <strong>other</strong> instead.</p>
                      </div>
                      <!-- Paste -->
                      <div
                        id="paste"
                        class="tab-pane fade"
                      >
                        <p><strong>paste</strong> generates the harmonized variable by setting the same value for all observations, not using values from any input variables.</p>
                        <div style="width: 70%; margin: 0 auto; display: flex; justify-content: center">
                          <p></p>
                          <div
                            class="datatables html-widget html-fill-item-overflow-hidden html-fill-item"
                            id="htmlwidget-3177ea1a8fe804eb301c"
                            style="width: 100%; height: auto"
                          ></div>
                          <script
                            type="application/json"
                            data-for="htmlwidget-3177ea1a8fe804eb301c"
                          >
                            {
                              "x": {
                                "filter": "none",
                                "vertical": false,
                                "autoHideNavigation": true,
                                "data": [
                                  ["<b>dataschema_variable<\/b>", "<b>input_dataset<\/b>", "<b>input_variables<\/b>", "<b>Mlstr_harmo::rule_category<\/b>", "<b>Mlstr_harmo::algorithm<\/b>"],
                                  [
                                    "<code> harmonized_var <\/code>",
                                    "<code> input_dataset <\/code>",
                                    "<code> <b>__BLANK__<\/b> <\/code>",
                                    "<code> <b>paste<\/b> <\/code>",
                                    "<code> \"Hello, world.\" <\/code>"
                                  ]
                                ],
                                "container": "<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th><\/th>\n    <\/tr>\n  <\/thead>\n<\/table>",
                                "options": {
                                  "pageLength": 5,
                                  "ordering": false,
                                  "columnDefs": [{ "orderable": false, "targets": 0 }],
                                  "order": [],
                                  "autoWidth": false,
                                  "orderClasses": false,
                                  "lengthMenu": [5, 10, 25, 50, 100]
                                }
                              },
                              "evals": [],
                              "jsHooks": []
                            }
                          </script>
                        </div>
                        <p><br /></p>
                        <p>Notes:</p>
                        <ul>
                          <li>
                            <p>• This function does not use any input variables. The value <strong>__BLANK__</strong> must be entered in the column input_variables.</p>
                          </li>
                          <li>
                            <p>• This rule category is often used when the harmonized variable is an identifier for the whole dataset, e.g., a study or population identifier.</p>
                          </li>
                        </ul>
                      </div>
                      <!-- Operation -->
                      <div
                        id="operation"
                        class="tab-pane fade"
                      >
                        <p><strong>operation</strong> generates the harmonized variable by applying an operation to one or more input variables.</p>
                        <div style="width: 70%; margin: 0 auto; display: flex; justify-content: center">
                          <p></p>
                          <div
                            class="datatables html-widget html-fill-item-overflow-hidden html-fill-item"
                            id="htmlwidget-a306ef58681e5f94ce8c"
                            style="width: 100%; height: auto"
                          ></div>
                          <script
                            type="application/json"
                            data-for="htmlwidget-a306ef58681e5f94ce8c"
                          >
                            {
                              "x": {
                                "filter": "none",
                                "vertical": false,
                                "autoHideNavigation": true,
                                "data": [
                                  ["<b>dataschema_variable<\/b>", "<b>input_dataset<\/b>", "<b>input_variables<\/b>", "<b>Mlstr_harmo::rule_category<\/b>", "<b>Mlstr_harmo::algorithm<\/b>"],
                                  [
                                    "<code> harmonized_var <\/code>",
                                    "<code> input_dataset <\/code>",
                                    "<code> input_var <\/code>",
                                    "<code> <b>operation<\/b> <\/code>",
                                    "<code> <em># Simple R code<\/em><\/b>\n  <b>mean<\/b>(input_var<b>)<\/b> <\/code>"
                                  ]
                                ],
                                "container": "<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th><\/th>\n    <\/tr>\n  <\/thead>\n<\/table>",
                                "options": {
                                  "pageLength": 5,
                                  "ordering": false,
                                  "columnDefs": [{ "orderable": false, "targets": 0 }],
                                  "order": [],
                                  "autoWidth": false,
                                  "orderClasses": false,
                                  "lengthMenu": [5, 10, 25, 50, 100]
                                }
                              },
                              "evals": [],
                              "jsHooks": []
                            }
                          </script>
                        </div>
                        <p><br /></p>
                        <p>Notes:</p>
                        <ul>
                          <li>
                            <p>Multiple input variables can be used. Separate the name of each in the <strong>input_variables</strong> column with a semi-colon <strong>;</strong></p>
                          </li>

                          <li>
                            • This rule category is intended to document relatively simple transformations. If the operation requires more complex or longer coding, consider using
                            <strong>other</strong> instead.
                          </li>
                        </ul>
                      </div>
                      <!-- Other -->
                      <div
                        id="other"
                        class="tab-pane fade"
                      >
                        <p><strong>other</strong> generates the harmonized variable from a non-standard or complex processing rule, not covered by other rule categories.</p>
                        <div style="width: 70%; margin: 0 auto; display: flex; justify-content: center">
                          <p></p>
                          <div
                            class="datatables html-widget html-fill-item-overflow-hidden html-fill-item"
                            id="htmlwidget-991bafd3f671a2c64a85"
                            style="width: 100%; height: auto"
                          ></div>
                          <script
                            type="application/json"
                            data-for="htmlwidget-991bafd3f671a2c64a85"
                          >
                            {
                              "x": {
                                "filter": "none",
                                "vertical": false,
                                "autoHideNavigation": true,
                                "data": [
                                  ["<b>dataschema_variable<\/b>", "<b>input_dataset<\/b>", "<b>input_variables<\/b>", "<b>Mlstr_harmo::rule_category<\/b>", "<b>Mlstr_harmo::algorithm<\/b>"],
                                  [
                                    "<code> harmonized_var <\/code>",
                                    "<code> input_dataset <\/code>",
                                    "<code> <b>__BLANK__<\/b> <\/code>",
                                    "<code> <b>other<\/b> <\/code>",
                                    "<code> # More complex R code <\/code>"
                                  ]
                                ],
                                "container": "<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th><\/th>\n    <\/tr>\n  <\/thead>\n<\/table>",
                                "options": {
                                  "pageLength": 5,
                                  "ordering": false,
                                  "columnDefs": [{ "orderable": false, "targets": 0 }],
                                  "order": [],
                                  "autoWidth": false,
                                  "orderClasses": false,
                                  "lengthMenu": [5, 10, 25, 50, 100]
                                }
                              },
                              "evals": [],
                              "jsHooks": []
                            }
                          </script>
                        </div>
                        <p><br /></p>
                        <p>Note:</p>
                        <ul>
                          <li>This rule category is equivalent to launching an R script.</li>
                        </ul>
                        <p>
                          The user environment needs to be controlled carefully when using this rule category to avoid unexpected results. Use double assignment "<<-" to place the result in the user
                          environment.
                        </p>
                        <pre><code><span><span class="va">my_harmo_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span> <span class="op">+</span> <span class="va">...</span> <span class="co"># complex lines of code</span></span>
<span></span>
<span><span class="co"># Double assignment to modify the environment.</span></span>
<span><span class="va">harmonized_dossier</span><span class="op">$</span><span class="va">DATASET</span><span class="op">$</span><span class="va">variable_F</span> <span class="op">&lt;&lt;-</span> <span class="va">my_harmo_var</span></span></code></pre>
                        <p>This rule category can also be used to source code from a script with more complex data processing.</p>
                        <pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">"my_file.R"</span><span class="op">)</span></span></code></pre>
                      </div>
                      <!-- Impossible Undetermined -->
                      <div
                        id="impossible-undetermined"
                        class="tab-pane fade"
                      >
                        <p>
                          These rule categories handle cases where the DataSchema variable cannot be generated for an input dataset or the status is undetermined. An empty column is generated for the
                          DataSchema variable in the harmonized dataset. This ensures that a row for each DataSchema variable and each input dataset is completed, that there are no missing arguments,
                          and that data processing can proceed even if not all algorithms are finalized..
                        </p>
                        <p></p>
                        <div
                          class="datatables html-widget html-fill-item-overflow-hidden html-fill-item"
                          id="htmlwidget-f3ee1a3a6e90d73021ff"
                          style="width: 100%; height: auto"
                        ></div>
                        <script
                          type="application/json"
                          data-for="htmlwidget-f3ee1a3a6e90d73021ff"
                        >
                          {
                            "x": {
                              "filter": "none",
                              "vertical": false,
                              "autoHideNavigation": true,
                              "data": [
                                ["<code> harmonized_var <\/code>", "<code> harmonized_var <\/code>"],
                                ["<code> input_dataset <\/code>", "<code> input_dataset <\/code>"],
                                ["<code> <b>__BLANK__<\/b> <\/code>", "<code> <b>__BLANK__<\/b> <\/code>"],
                                ["<code> <b>impossible<\/b> <\/code>", "<code> <b>undetermined<\/b> <\/code>"],
                                ["<code> <b>impossible<\/b> <\/code>", "<code> <b>undetermined<\/b> <\/code>"]
                              ],
                              "container": "<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th><b>dataschema_variable<\/b><\/th>\n      <th><b>input_dataset<\/b><\/th>\n      <th><b>input_variables<\/b><\/th>\n      <th><b>Mlstr_harmo::rule_category<\/b><\/th>\n      <th><b>Mlstr_harmo::algorithm<\/b><\/th>\n    <\/tr>\n  <\/thead>\n<\/table>",
                              "options": {
                                "pageLength": 4,
                                "columnDefs": [{ "className": "dt-head-left", "targets": "_all" }],
                                "headerCallback": "function(thead) { $(thead).css('font-size', '0.7em');}",
                                "ordering": false,
                                "scrollX": true,
                                "order": [],
                                "autoWidth": false,
                                "orderClasses": false,
                                "lengthMenu": [4, 10, 25, 50, 100]
                              }
                            },
                            "evals": ["options.headerCallback"],
                            "jsHooks": []
                          }
                        </script>
                        <p><br /></p>
                        <p>Notes:</p>
                        <ul>
                          <li>
                            <p>
                              <em>__BLANK__</em> : A value must be provided in input_variables. If no input variable is needed to generate the harmonized variable, __BLANK__ is used as a placeholder
                              in input_variables.
                            </p>
                          </li>
                          <li>
                            <p>
                              <em>impossible</em> : If the input dataset does not contain relevant or compatible information to generate the DataSchema variable, the rule_category and algorithm are
                              marked ‘impossible’.
                            </p>
                          </li>
                          <li>
                            <p>
                              <em>undetermined</em> : If any of the data processing elements needs further investigation or information to be determined, the rule_category and algorithm can be marked
                              ‘undetermined’ to allow running harmo_process() without error and documenting the undetermined status.
                            </p>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="section level3">
                  <h3 id="examples-of-rule-categories">
                    Examples of Rule Categories<a
                      class="anchor"
                      aria-label="anchor"
                      href="#examples-of-rule-categories"
                    ></a>
                  </h3>
                  <div>
                    <p></p>
                    <div
                      class="datatables html-widget html-fill-item-overflow-hidden html-fill-item"
                      id="htmlwidget-2969fe682a70de669db1"
                      style="width: 100%; height: auto"
                    ></div>
                    <script
                      type="application/json"
                      data-for="htmlwidget-2969fe682a70de669db1"
                    >
                      {
                        "x": {
                          "filter": "none",
                          "vertical": false,
                          "extensions": ["Buttons"],
                          "data": [
                            [
                              "<code> harmonized_id <\/code>",
                              "<code> harmonized_var <\/code>",
                              "<code> harmonized_var <\/code>",
                              "<code> harmonized_var <\/code>",
                              "<code> harmonized_var <\/code>",
                              "<code> harmonized_var <\/code>",
                              "<code> harmonized_var <\/code>",
                              "<code> harmonized_var <\/code>",
                              "<code> harmonized_var <\/code>"
                            ],
                            [
                              "<code> input_dataset <\/code>",
                              "<code> input_dataset <\/code>",
                              "<code> input_dataset <\/code>",
                              "<code> input_dataset <\/code>",
                              "<code> input_dataset <\/code>",
                              "<code> input_dataset <\/code>",
                              "<code> input_dataset <\/code>",
                              "<code> input_dataset <\/code>",
                              "<code> input_dataset <\/code>"
                            ],
                            [
                              "<code> input_id <\/code>",
                              "<code> input_var <\/code>",
                              "<code> input_var <\/code>",
                              "<code> input_var_x ; input_var_y ; input_var_z <\/code>",
                              "<code> input_var <\/code>",
                              "<code> <b>__BLANK__<\/b> <\/code>",
                              "<code> <b>__BLANK__<\/b> <\/code>",
                              "<code> <b>__BLANK__<\/b> <\/code>",
                              "<code> <b>__BLANK__<\/b> <\/code>"
                            ],
                            [
                              "<code> <b>id_creation<\/b><em style=\"color:red\"> (mandatory)<\/em> <\/code>",
                              "<code> <b>direct_mapping<\/b> <\/code>",
                              "<code> <b>recode<\/b> <\/code>",
                              "<code> <b>case_when<\/b> <\/code>",
                              "<code> <b>operation<\/b> <\/code>",
                              "<code> <b>paste<\/b> <\/code>",
                              "<code> <b>other<\/b> <\/code>",
                              "<code> <b>impossible<\/b> <\/code>",
                              "<code> <b>undetermined<\/b> <\/code>"
                            ],
                            [
                              "<code> <b>input_id<\/b> <\/code>",
                              "<code> <b>direct_mapping<\/b> <\/code>",
                              "<code> <b>recode(<\/b>\n  \"YES\" = 1 ;\n  \"NO\"  = 0 ;\n  ELSE  = NA<b>) <\/b> <\/code>",
                              "<code> <b>case_when(<\/b>\n  var_x == 1 ~ var_y ;\n vari_x == 2 ~ var_z ;\n  ELSE ~ NA<b>)<\/b> <\/code>"",
                              "<code> <em># Simple R code<\/em><\/b>\n  <b>mean<\/b>(input_var<b>)<\/b> <\/code>",
                              "<code> \"Hello, world.\" <\/code>",
                              "<code> # More complex R code <\/code>",
                              "<code> <b>impossible<\/b> <\/code>",
                              "<code> <b>undetermined<\/b> <\/code>"
                            ]
                          ],
                          "container": "<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th><b>dataschema_variable<\/b><\/th>\n      <th><b>input_dataset<\/b><\/th>\n      <th><b>input_variables<\/b><\/th>\n      <th><b>Mlstr_harmo::rule_category<\/b><\/th>\n      <th><b>Mlstr_harmo::algorithm<\/b><\/th>\n    <\/tr>\n  <\/thead>\n<\/table>",
                          "options": {
                            "searching": false,
                            "columnDefs": [{ "className": "dt-head-left", "targets": "_all" }],
                            "headerCallback": "function(thead) { $(thead).css('font-size', '0.7em');}",
                            "paging": false,
                            "info": false,
                            "scrollX": true,
                            "ordering": false,
                            "pageLength": 9,
                            "dom": "Bfrtip",
                            "buttons": ["copy", "csv", "excel"],
                            "order": [],
                            "autoWidth": false,
                            "orderClasses": false,
                            "lengthMenu": [9, 10, 25, 50, 100]
                          }
                        },
                        "evals": ["options.headerCallback"],
                        "jsHooks": []
                      }
                    </script>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div
          class="col-md-3 hidden-xs hidden-sm"
          id="pkgdown-sidebar"
        >
          <nav
            id="toc"
            data-toggle="toc"
            class="sticky-top"
          >
            <h2 data-toc-skip>Contents</h2>
          </nav>
        </div>
      </div>

      <footer style="margin-top: 45px; padding: 35px 0 36px; border-top: 1px solid #e5e5e5; color: #666; display: flex; align-items: center; flex-wrap: wrap">
        <div
          class="copyright"
          style="display: flex; align-items: center; flex: 0 0 auto"
        >
          Developed&nbsp;by&nbsp;&nbsp;
          <a
            href="https://www.maelstrom-research.org"
            class="external-link"
            target="_blank"
          >
            <img
              src="../reference/figures/maelstrom-logo.png"
              style="max-height: 35px; padding-bottom: 2px"
              title="Maelstrom Research"
            />
          </a>
        </div>

        <div
          class="pkgdown"
          style="display: flex; align-items: center; flex: 0 0 auto; margin-left: auto"
        >
          Site&nbsp;built&nbsp;with&nbsp;<a
            href="https://pkgdown.r-lib.org/"
            target="_blank"
            class="external-link"
            >pkgdown</a
          >&nbsp;2.0.7.
        </div>
      </footer>
    </div>
  </body>
</html>
